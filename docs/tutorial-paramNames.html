<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Parameter Naming - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Tutorials</li><li class="nav-item"><a href="tutorial-argumentsNote.html">Note on `arguments`</a></li><li class="nav-item"><a href="tutorial-coercions.html">Parameter Value Coercion</a></li><li class="nav-item"><a href="tutorial-defaultValues.html">Default Value Injection</a></li><li class="nav-item"><a href="tutorial-nestedValidation.html">Nested Validation</a></li><li class="nav-item"><a href="tutorial-paramNames.html">Parameter Naming</a></li><li class="nav-item"><a href="tutorial-validation.html">Validation Overview</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="module-validateParams.Result.html">validateParams.Result</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#asString">asString</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#constraintsList">constraintsList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#errorDetails">errorDetails</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#errorList">errorList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#errors">errors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#fail">fail</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#numErrors">numErrors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#options">options</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#parameterList">parameterList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#pass">pass</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#validateAttributes">validateAttributes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#validateConstraints">validateConstraints</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="module-validateParams.ValidationError.html">validateParams.ValidationError</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.ValidationError.html#errors">errors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.ValidationError.html#numErrors">numErrors</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-validateParams.html">validateParams</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.asOrdinal">asOrdinal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.assert">assert</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.coerce">coerce</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.extendObject">extendObject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.getValidateInstance">getValidateInstance</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.injectDefaults">injectDefaults</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.isArguments">isArguments</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.isPlainObject">isPlainObject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.isPrimitive">isPrimitive</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.isTypeofString">isTypeofString</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.paramToAttrConstraints">paramToAttrConstraints</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.registerValidators">registerValidators</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.shallowCopy">shallowCopy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.validate">validate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.validateJS">validateJS</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#~validateParams">validateParams</a></span></li><li class="nav-heading">Externals</li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-isArray.html">external:isArray</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-isEmpty.html">external:isEmpty</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-isObject.html">external:isObject</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-single.html">external:single</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-validate.html">external:validate</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-Validator.html">external:Validator</a></span></li><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="module-validateParams.coercions.html">validateParams.coercions</a></span></li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="module-validateParams.validators.html">validateParams.validators</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Parameter Naming</h1>
    

    <section>

<header>
    
</header>

<article>
    <p>At its most fundamental level, this module translates lists of data and
constraints into name-value pairs of data and contstraints as expected by the
validation functions from <a href="https://validatejs.org/">validate.js</a>.</p>
<p>Consider the following call to this module's
[vaidateParams()]{module:validateParams~validateParams} function:</p>
<pre class="prettyprint source"><code>var errs = validateParams(
  ['stuff', 42], // parameter list
  [ // constraints list
    { presence: true }, // constraints for 1st param
    { // constraints for 2nd param
      numericality: {
        onlyInteger: true,
        greaterThanOrEqualTo: 1
      }
    }
  ]
);</code></pre><p>This gets translated to the following call to  the
<a href="external-validate.html">validate()</a> function from <code>validate.js</code>:</p>
<pre class="prettyprint source"><code>var errs = validate(
  { // attributes object - from parameter list
    param1: 'stuff',
    param2: 42
  },
  { // constrants object - from constraints list
    param1: { presence: true },
    param2: {
      numericality: {
        onlyInteger: true,
        greaterThanOrEqualTo: 1
      }
    }
  }
);</code></pre><p>You can access the generated attributes and constraints objects if you run the
validation via the
<a href="module-validateParams.html#.validate">validateParams.validate()</a> function
which returns a <a href="module-validateParams.Result.html">validateParams.Result</a>
object:</p>
<pre class="prettyprint source"><code>var res = validateParams.validate(
  ['stuff', 42],
  [
    { presence: true },
    { 
      numericality: {
        onlyInteger: true,
        greaterThanOrEqualTo: 1
      }
    }
  ]
);
console.log('the generated attributes object', res.validateAttributes());
console.log('the generated constraints object', res.validateConstraints());</code></pre><p>The per-parameter option <code>name</code> can be used to customise the names.</p>
<p>Consider the following call to <code>validateParams.validate()</code>:</p>
<pre class="prettyprint source"><code>var res = validateParams.validate(
  ['stuff', 42],
  [
    {
      presence: true,
      vpopt_name: 'str'
    },
    { 
      numericality: {
        onlyInteger: true,
        greaterThanOrEqualTo: 1
      },
      vpopt_name: 'repeatBy'
    }
  ]
);</code></pre><p>This will result in the following attributes object being generated:</p>
<pre class="prettyprint source"><code>{
  str: 'stuff',
  repeatBy: 42
}</code></pre><p>And the following constraints object:</p>
<pre class="prettyprint source"><code>{
  str: { presence: true },
  repeatBy: {
    numericality: {
      onlyInteger: true,
      greaterThanOrEqualTo: 1
    }
  }
}</code></pre><p>This per-paramter option is particuarlly useful when combined with one of the
data defaulting per-parameter options, or with coercion:</p>
<pre class="prettyprint source"><code>function stringRepeater(){
  var args = validateParams.assert(
    arguments,
    [
      {
        presence: true,
        paramOptions: {
          name: 'str',
          coerce: function(v){
            if(validateParams.validateJS().isEmpty(v)){
              return undefined;
            }
            return String(v); }
        }
      },
      {
        numericality: {
          onlyInteger: true,
          greaterThanOrEqualTo: 1
        },
        paramOptions: {
          name: 'n',
          defaultWhenEmpty: 1
        }
      }
    ]
  );

  var ans = args.str;
  while(args.n > 1){
    ans += args.str;
    args.n--;
  }
  return ans;
}
console.log(stringRepeater()); // throws validation error
console.log(stringRepeater('stuff')); // logs 'stuff'
console.log(stringRepeater('stuff', 3)); // logs 'stuffstuffstuff'</code></pre>
</article>

</section>

</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Jul 25 2017 10:39:31 GMT+0100 (IST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>