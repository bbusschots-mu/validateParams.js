<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Global - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="module-validateParams.ValidationError.html">validateParams.ValidationError</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-validateParams.html">validateParams</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.asOrdinal">asOrdinal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.assert">assert</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.filterMetaValidators">filterMetaValidators</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.getValidateInstance">getValidateInstance</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.isArguments">isArguments</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.isTypeofString">isTypeofString</a></span></li><li class="nav-heading">Externals</li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-isEmpty.html">external:isEmpty</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-isObject.html">external:isObject</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-validate.html">external:validate</a></span></li><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="module-validateParams.validators.html">validateParams.validators</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#valiateParams">valiateParams</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Global</h1>
    

    




<section>

<header>
    
        <h2>
        
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id="valiateParams"><span class="type-signature"></span>valiateParams<span class="signature">(params, constraints, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {boolean|Array.&lt;string>}</span></h4>

    



<div class="description">
    <p>A function for validating the parameters to a function.</p>
<p>This is a wrapper around the <a href="external-validate.html">validate()</a> function
from <a href="https://validatejs.org/#validate">validate.js</a>. Both the values
to be tested and the constraints they should be tested against are specified
using arrays (or array-like objects) rather than associative arrays as
expected by <a href="external-validate.html">validate()</a>. The function assembles the
specified values and constraints into associative arrays using the names
<code>param1</code>, <code>param2</code> etc..</p>
<h5>Meta-Validators</h5><p>Meta-validators are used to add extra functionality to this function which is
not available in the validate.js module.</p>
<p>Any validator name starting with <code>meta_</code> in any of the constraint objects
will be interpreted as a meta-validator, and will be stripped out before
being passed to <a href="external-validate.html">validate()</a>.</p>
<h5>Coercions</h5><p>A coercion is a function that tries to make the value of a parameter valid
before the constraints are applied. Coercions alter the values stored in the
parameters list, so the updated value will be available for use after
validation.</p>
<p>Coercions are implemented using the meta-validator <code>meta_coercion</code>. The value
for assigned to this name in a constraint should be a
<a href="global.html#CoercionCallback">coercion callback</a>. If present, that callback will
be invoked with the value to be coerced as the first parameter, and the
callback should return an altered value or the original value.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="external-validate.html">external:validate</a></li>
        </ul>
    </dd>
    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Arguments</code></span>
|

<span class="param-type"><code>Array</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array-like object representing the
parameters to be validated, usually an <code>Arguments</code> object.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>constraints</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array.&lt;<a href="global.html#ValidateParamsConstraints">ValidateParamsConstraints</a>></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array of
constraint objects which can contain both validator data as expected by
<code>validate.single()</code> and meta-validator data as supported by this function.
The constraints defined in the first element of this array will be applied
to the first parameter, the constraints in the second element to the second
parameter and so-on.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an associative array of options.</p>
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>format</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    'grouped'
                
                </td>
            

            <td class="description last">
                <p>the format in which to return
any error messages found. For details see the
<a href="https://validatejs.org/#validate-error-formatting">Format section of the validate.js docs</a>.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fullMessages</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last">
                <p>whether or not to pre-fix
error messages with the variable name (<code>param1</code> etc.).</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fatal</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">
                <p>whether or not to throw a
validateParams.ValidationError when there is a validation error
rather than returning the error messages.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>throws an error on invalid arguments.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>Error</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>throws a validation error if the
parameters fail to validate and <code>options.fatal=true</code>.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>validateParams.ValidationError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>boolean</code></span>
|

<span class="param-type"><code>Array.&lt;string></code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>if there were no errors, false is returned,
otherwise, an array of error strings is returned.</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>// basic example - 2 required parameters
function repeatString(s, n){
    var errors = validateParams(arguments, [
        {
            presence: true
            
        },
        {
            presence: true,
            numericality: {
                onlyInteger: true,
                greaterThan: 0
            }
        }
    ]);
    if(errors){
        throw new Error('invalid args!');
    }
    var ans = '';
    for(var i = 0; i &lt; n; i++){
        ans += String(s);
    }
    return ans;
}

// example with a coercion
function getAPIURL(baseURL){
    var errors = validateParams(arguments, [{
        presence: true,
        url: {
            schemes: ['http', 'https'],
            allowLocal: true
        },
        meta_coerce: function(v){
           // append a trailing / if needed
           return typeof v === 'string' &amp;&amp; !v.match(/\/$/) ? v + '/' : v;
        }
    }]);
    if(errors){
        throw new Error('invalid args!');
    }
    return baseURL + 'api.php';
}</code></pre>

</div>

</div>
        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<div class="section-method">

    

    <h4 class="name" id="CoercionCallback"><span class="type-signature"></span>CoercionCallback<span class="signature">(value)</span><span class="type-signature"> &rarr; {*}</span></h4>

    



<div class="description">
    <p>A validation callback for use with the <code>meta_coerce</code> meta-validation.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>*</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the value to be coerced.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>*</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>The coerced value.</p>
</div>

    
</div>



</div>
            
                
<div class="section-members">
<h4 class="name" id="ValidateConstraints">ValidateConstraints</h4>




<div class="description">
    <p>A plain object containing validator settings indexed by validator names.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





    <h5>Example</h5>
    
    <pre class="prettyprint"><code>{
    presence: true;
    url: {
        schemes: ['http', 'https'],
        allowLocal: true
    }
}</code></pre>


</div>

            
                
<div class="section-members">
<h4 class="name" id="ValidateParamsConstraints">ValidateParamsConstraints</h4>




<div class="description">
    <p>A plain object contaning a mix of validator and meta-validator settings
indexed by name.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><code>Object</code></span>


        </li>
    </ul>





    <h5>Example</h5>
    
    <pre class="prettyprint"><code>{
    presence: true;
    url: {
        schemes: ['http', 'https'],
        allowLocal: true
    },
    meta_coerce: function(v){
        return typeof v === 'string' &amp;&amp; !v.match(/\/$/) ? v + '/' : v;
    }
}</code></pre>


</div>

            
                
<div class="section-method">

    

    <h4 class="name" id="Validator"><span class="type-signature"></span>Validator<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>A validate.js validator.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://validatejs.org/#custom-validator">https://validatejs.org/#custom-validator</a></li>
        </ul>
    </dd>
    

    
</dl>























</div>
            
    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Jul 04 2017 12:16:48 GMT+0100 (IST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>