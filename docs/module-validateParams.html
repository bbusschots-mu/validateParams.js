<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>validateParams - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="module-validateParams.Result.html">validateParams.Result</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#constraintList">constraintList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#errors">errors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#options">options</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#parameterList">parameterList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#validateAttributes">validateAttributes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.Result.html#validateConstraints">validateConstraints</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="module-validateParams.ValidationError.html">validateParams.ValidationError</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-validateParams.html">validateParams</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.asOrdinal">asOrdinal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.assert">assert</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.coerce">coerce</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.getValidateInstance">getValidateInstance</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.isArguments">isArguments</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.isPlainObject">isPlainObject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.isTypeofString">isTypeofString</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.paramConstraintsAsAttrConstraints">paramConstraintsAsAttrConstraints</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.validate">validate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#.validateJS">validateJS</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-validateParams.html#~validateParams">validateParams</a></span></li><li class="nav-heading">Externals</li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-isEmpty.html">external:isEmpty</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-isObject.html">external:isObject</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-validate.html">external:validate</a></span></li><li class="nav-heading"><span class="nav-item-type type-external">E</span><span class="nav-item-name"><a href="external-Validator.html">external:Validator</a></span></li><li class="nav-heading">Namespaces</li><li class="nav-heading"><span class="nav-item-type type-namespace">N</span><span class="nav-item-name"><a href="module-validateParams.validators.html">validateParams.validators</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li>
</nav>

<div id="main">
    
    <h1 class="page-title">validateParams</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>A wrapper around <a href="http://validatejs.org/">validate.js</a> designed to
facilitate its use for function parameter validation.</p>
<p>Since validate.js was designed for valdiating web forms, it's designed to
validate named data attributes, however, function parameter lists are flat
array-like structures of values. This module is designed to bridge that
gap in a developer-friendly way, and, to add extra functionality that makes
working with function parameters easier, such as additional
validate.js-compatible
<a href="module-validateParams.validators.html">custom validators</a>, and support for
data coercion.</p>
<p>This module exports its functionality as a single main function,
<a href="module-validateParams.html#~validateParams">validateParams()</a>, which
contains further helper functions as properties. This is the same design
pattern implemented by validate.js.</p>
<p>The module's core functionality is implemented by the function
<a href="module-validateParams.html#.validate">validateParams.validate()</a>, so that
function's description is a great starting point for getting to grips with
this module, however, in your code you will probably chose to use one of
two wrappers around this function:</p>
<ul>
<li><a href="module-validateParams.html#~validateParams">validateParams()</a> - returns
lists of errors or <code>undefined</code> in the same way the <code>validate()</code> function
from validate.js does.</li>
<li><a href="module-validateParams.html#.assert">validateParams.assert()</a> - throws
<a href="module-validateParams.ValidationError.html">validateParams.ValidationError</a>
errors rather than returning lists of errors.</li>
</ul></div>
        

        
            
<div class="section-method">







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><p><a href="https://validatejs.org/">validate.js Documentation</a></p></li>
        </ul>
    </dd>
    

    
</dl>























</div>
        
    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>module:validate.js</li>
        </ul>
    

    
        <h3 class="subsection-title">Classes</h3>

        <dl>
            <dt><a href="module-validateParams.Result.html">Result</a></dt>
            <dd></dd>
        
            <dt><a href="module-validateParams.ValidationError.html">ValidationError</a></dt>
            <dd></dd>
        </dl>
    

     

    
        <h3 class="subsection-title">Namespaces</h3>

        <dl>
            <dt><a href="module-validateParams.validators.html">validators</a></dt>
            <dd></dd>
        </dl>
    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id=".asOrdinal"><span class="type-signature">(static) </span>asOrdinal<span class="signature">(n)</span><span class="type-signature"> &rarr; {string}</span></h4>

    



<div class="description">
    <p>A helper function for converting an integer to an ordinal (e.g. 1 to 1st).</p>
<p>The parameter will be run through <code>parseInt()</code> to force it to an integer.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>n</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>number</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the integer number to be converted to an ordinal</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>string</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".assert"><span class="type-signature">(static) </span>assert<span class="signature">(params, constraints, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object.&lt;string, <a href="global.html#AttributeContraints">AttributeContraints</a>>}</span></h4>

    



<div class="description">
    <p>A wrapper for the
<a href="module-validateParams.html#.validate">validateParams.validate()</a> function
that passes all arguments through, but sets <code>options.fatal</code> to true, ensuring
validation errors trigger the throwing of a
<a href="module-validateParams.ValidationError.html">validateParams.ValidationError</a>
error, and returns a reference to the Attributes data structure generated by
<code>validateParams.validate()</code> and passed to the
<a href="external-validate.html">validate()</a> function from validate.js via
<a href="module-validateParams.Result.html#validateAttributes">validateParams.Result.validateAttributes()</a>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-validateParams.html#.validate">module:validateParams.validate</a></li>
        
            <li><a href="module-validateParams.Result.html#validateAttributes">module:validateParams.Result#validateAttributes</a></li>
        
            <li><a href="external-validate.html">external:validate</a></li>
        </ul>
    </dd>
    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Arguments</code></span>
|

<span class="param-type"><code>Array</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array-like object containing data to
be validated, often a function's special <code>arguments</code> object.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>constraints</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array.&lt;<a href="global.html#ParameterConstraints">ParameterConstraints</a>></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array of parameter
constraints, one for each parameter to be validated. The validations and
per-parameter options defined in the first element in this array will be
applied to the first element in <code>params</code>, the validations and options defined
in the second element in this array to the second element in <code>params</code>, and
so on.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an associative array of options, both for the
<a href="external-validate.html">validate()</a> function from validate.js, and the
<a href="module-validateParams.html#.validate">validateParams.validate()</a> function.
(The supported options are detailed in the documenation for
<a href="module-validateParams.html#.validate">validateParams.validate()</a>)</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>

        

    <div class="param-desc">
    
        
<span class="param-type"><code>validateParams.ValidationError</code></span>


    
    </div>


    
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Object.&lt;string, <a href="global.html#AttributeContraints">AttributeContraints</a>></code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>The generated Attributes
object that was passed to the <a href="external-validate.html">validate()</a> function
from validate.js</p>
</div>

    
</div>



<div class="section-examples">
<h5>Examples</h5>

        <p class="code-caption">Basic example - 2 required parameters</p>
    
    <pre class="prettyprint"><code>function repeatString(s, n){
    validateParams.assert(arguments, [
        {
            presence: true
            
        },
        {
            presence: true,
            numericality: {
                onlyInteger: true,
                greaterThan: 0
            }
        }
    ]);
    var ans = '';
    for(var i = 0; i &lt; n; i++){
        ans += String(s);
    }
    return ans;
}</code></pre>

        <p class="code-caption">Advanced Example with Coercion</p>
    
    <pre class="prettyprint"><code>function getAPIURL(baseURL){
    validateParams.assert(arguments, [{
        presence: true,
        url: {
            schemes: ['http', 'https'],
            allowLocal: true
        },
        vpopt_coerce: function(v){
           // append a trailing / if needed
           return typeof v === 'string' &amp;&amp; !v.match(/\/$/) ? v + '/' : v;
        }
    }]);
    return baseURL + 'api.php';
}</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".coerce"><span class="type-signature">(static) </span>coerce<span class="signature">(params, constraints, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Arguments|Array}</span></h4>

    



<div class="description">
    <p>A function which applies coercions, but does not do any validation.</p>
<p>The values in the passed parameter list (<code>param</code>) will be updated according
to any coercions defined in the constraints list (<code>constraints</code>).</p>
<p>Since the parameter list is an array-like object, it's passed by reference,
so the changes will be made directly within the list, and there is no need
to return anything. However, purely for convenience, a reference to the
parameter list is returned.</p>
<p>Coercions are implemented as a parameter-specific option named <code>coerce</code>.
There is more information on on parameter-specific options available in the
description of the
<a href="module-validateParams.html#.validate">validateParams.validate()</a> function.</p>
<p>A coercion is simply a callback which will be called with the value to be
coerced as the first and only argument, and which should return the coerced
value. Values that do not need to be altered by a coercion should still be
returned, otherwise the value will be coerced to <code>undefined</code>. See the
<a href="global.html#CoercionCallback">CoercionCallback</a> type definition for more details.</p>
<p>When coercing the <code>arguments</code> object, bear in mind that while the value in
the <code>arguments</code> object will get updated, the value stored in corresponding
named arguments will not change, as illustrated by the code sample below:</p>
<pre class="prettyprint source"><code>function demoFn(x){
    validateParams.coerce(arguments, [{
        presence: true,
        numericality: {
            onlyInteger: true,
            greaterThanOrEqualTo: 0,
            lessThanOrEqualTo: 10
        }
        vpopt_coerce: function(n){
            if(n &lt; 0) return 0;
            if(n > 10) return 10;
            return n;
        }
    }]);
    return (x, arguments[0]);
}

demoFn(40); // returns [40, 10] because arguments[0] was coerced, but not x</code></pre><p>Note that this function will always coerce the parameter list, even when
<code>options.coerce=false</code>.</p>
</div>





<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>version 1.1.1</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-validateParams.html#.validate">module:validateParams.validate</a></li>
        </ul>
    </dd>
    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Arguments</code></span>
|

<span class="param-type"><code>Array</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array-like object containing data to
be coerced, as would be passed to the
<a href="module-validateParams.html#.validate">validateParams.validate()</a> function.
The special <code>arguments</code> object would often be passed here.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>constraints</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array.&lt;<a href="global.html#ParameterConstraints">ParameterConstraints</a>></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array of parameter
constraints, as would be passed to the
<a href="module-validateParams.html#.validate">validateParams.validate()</a> function.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>A plain object with options (not currently used).</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Arguments</code></span>
|

<span class="param-type"><code>Array</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>A reference to the parameter list (<code>params</code>).</p>
</div>

    
</div>



<div class="section-examples">
<h5>Examples</h5>

        <p class="code-caption">A coercion specified using the `vpopt_coerce` per-parameter option</p>
    
    <pre class="prettyprint"><code>var numConstraint = {
    presence: true,
    numericality: {
        onlyInteger: true,
        greaterThanOrEqualTo: 0,
        lessThanOrEqualTo: 10
    },
    vpopt_coerce: function(n){
        if(n &lt; 0) return 0;
        if(n > 10) return 10;
        return n;
    }
};
var data = [-5, 5, 50];
validateParams.coerce(data, [numConstraint, numConstraint, numConstraint]);
// data now [0, 5, 10]</code></pre>

        <p class="code-caption">A coercion specified using the `paramOptions.coerce` per-parameter option</p>
    
    <pre class="prettyprint"><code>var numConstraint = {
    presence: true,
    numericality: {
        onlyInteger: true,
        greaterThanOrEqualTo: 0,
        lessThanOrEqualTo: 10
    },
    paramOptions: {
        coerce: function(n){
            if(n &lt; 0) return 0;
            if(n > 10) return 10;
            return n;
        }
    }
};</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".getValidateInstance"><span class="type-signature">(static) </span>getValidateInstance<span class="signature">()</span><span class="type-signature"> &rarr; {function}</span></h4>

    



<div class="description">
    <p>An accessor to return a reference to the instance of the <code>validate()</code>
function from validate.js used by this module.</p>
</div>





<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>version 0.1.1</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>function</code></span>


    </dd>
</dl>


    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>var paramsValidateFn = validateParams.getValidateInstance();</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".isArguments"><span class="type-signature">(static) </span>isArguments<span class="signature">(item)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>A function to test if a given item is an Arguments object.</p>
<p>This implementation is based on
<a href="https://stackoverflow.com/a/29924715/174985">this answer on Stack Overflow</a>.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://stackoverflow.com/a/29924715/174985">https://stackoverflow.com/a/29924715/174985</a></li>
        </ul>
    </dd>
    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>*</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the item to test.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>boolean</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p><code>true</code> if the item is an Arguments object, <code>false</code>
otherwise.</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>validateParams.isArguments(['stuff', 'thingys']); // false
function x(){
    validateParams.isArguments(arguments); // true
}</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".isPlainObject"><span class="type-signature">(static) </span>isPlainObject<span class="signature">(item)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>A function to test if a given item is a plain object.</p>
<p>The criteria is that a plain object has a <code>typeof</code> of <code>object</code>, is not <code>null</code>
and has <code>Object</code> at the top of its inheritance tree.</p>
</div>





<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>version 1.1.1</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>item</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>*</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the item to test.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>boolean</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p><code>true</code> if the item is an plain object, <code>false</code>
otherwise.</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>validateParams.isPlainObject(undefined); // false
validateParams.isPlainObject(null); // false
validateParams.isPlainObject(4); // false
validateParams.isPlainObject(NaN); // false
validateParams.isPlainObject([1, 2]); //false
validateParams.isPlainObject(function(){return true;}); // false
validateParams.isPlainObject(new Date()); // false
validateParams.isPlainObject({}); // true
validateParams.isPlainObject({a: 'b'}); // true</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".isTypeofString"><span class="type-signature">(static) </span>isTypeofString<span class="signature">(v)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>A function to test if a given value is one of the possible strings returned
by the <code>typeof</code> operator.</p>
</div>





<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>version 0.1.1</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof</a></li>
        </ul>
    </dd>
    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>*</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the value to test</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>boolean</code></span>


    </dd>
</dl>


<div class="param-desc">
    <p><code>true</code> if the item is a string returned by <code>typeof</code>,
<code>false</code> otherwise.</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>var isValid1 = validateParams.isTypeofString('number'); // true
var isValid2 = validateParams.isTypeofString('num'); // false</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".paramConstraintsAsAttrConstraints"><span class="type-signature">(static) </span>paramConstraintsAsAttrConstraints<span class="signature">(paramConstraints)</span><span class="type-signature"> &rarr; {<a href="global.html#AttributeContraints">AttributeContraints</a>}</span></h4>

    



<div class="description">
    <p>A function to convert a
<a href="global.html#ParameterConstraints">parameter constraints object</a> as used in the
paramter list for the
<a href="module-validateParams.html#.validate">validateParams.validate()</a> function
into an <a href="global.html#AttributeContraints">attribute constraints object</a> as used in
the constraints object for the <a href="external-validate.html">validate()</a> function
from validate.js.</p>
<p>Specifically, all keys present in the passed object are coppied to a new
object except the one one named <code>paramOptions</code> and any who who's names start
with <code>vpopt_</code>. This new object is then returned by this function.</p>
<p>This function does not throw errors, if it receives invalid input, it simply
returns it un-altered, but it will log a warning if it does so.</p>
</div>





<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>version 1.1.1</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-validateParams.html#.validate">module:validateParams.validate</a></li>
        
            <li><a href="external-validate.html">external:validate</a></li>
        </ul>
    </dd>
    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>paramConstraints</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="global.html#ParameterConstraints">ParameterConstraints</a></code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the parameter constraints
object to be converted into an attribute constraints object.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="global.html#AttributeContraints">AttributeContraints</a></code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>A new object containing every key-value pair
from the original, except the one named <code>paramOptions</code> and those who's names
begins with <code>vpopt_</code>.</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".validate"><span class="type-signature">(static) </span>validate<span class="signature">(params, constraints, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="module-validateParams.Result.html">module:validateParams.Result</a>}</span></h4>

    



<div class="description">
    <p>The primary validation function provided by this module. The other two
provided validation functions,
<a href="module-validateParams.html#~validateParams">validateParams()</a> and
<a href="module-validateParams.html#.assert">validateParams.assert()</a> are wrappers
around this function.</p>
<p>This function transforms the passed paramter list <code>params</code> and constraints
list <code>constraints</code> into data structures that can be validated by the
<a href="external-validate.html">validate()</a> function from validate.js.</p>
<p>Specifically, parameter lists (<code>param</code>) of the form:</p>
<pre class="prettyprint source"><code>['stuff', [1, 2, 3], {a: 'b'}]</code></pre><p>get transformed into valdiate.js-compatible attribute objects of the form:</p>
<pre class="prettyprint source"><code>{
    param1: 'stuff',
    param2: [1, 2, 3],
    param3: {a: 'b'}
}</code></pre><p>By default, the values in the parameter list are coerced with the
<a href="module-validateParams.html#.coerce">validateParams.coerce()</a> function before
being transformed into the attributes object. This can be suppressed by
setting <code>options.coerce=false</code>.</p>
<p>Similarly, constraint lists (<code>constraints</code>) of the form:</p>
<pre class="prettyprint source"><code>[
    {presence: true},
    {
        presence: true,
        numericality: {
            onlyInteger: true,
            strict: true
        }
    },
    {
        hasTypeof: 'boolean',
        vpopt_coerce: function(val){ // a parameter-specific option
            return val ? true : false;
        };
    }
]</code></pre><p>get transformed into validate.js-compatible constraints objects of the form:</p>
<pre class="prettyprint source"><code>{
    param1: {presence: true}
    param2: {
        numericality: {
            onlyInteger: true,
            strict: true
        }
    },
    param3: {hasTypeof: 'boolean'} // parameter-specific option not included
}</code></pre><p>The objects within the constraints list can contain parameter-specific
options, such as coercions, but these are not included in the generated
constraints objects. For more information on parameter-specific options, see
below.</p>
<p>This function returns a
<a href="module-validateParams.Result.html">validateParams.Result</a> object containing
references to the parameter list, the constraints list, the options object,
the generated attributes object, the generated constraints object, and the
value returned by the <a href="external-validate.html">validate()</a> function from
validate.js</p>
<p>The <code>options</code> object can contain any option understood by the
<a href="external-validate.html">validate()</a> function from validate.js as well as
options understood by this function.</p>
<h5>Parameter-specific Options</h5><p>This module adds support for a number parameter-specific options that do not
exist in validate.js. These options are specified within the constraint
objects that make up the constraint list. These options will be stripped from
the constraint before they are passed on to the
<a href="external-validate.html">validate()</a> function.</p>
<p>For convenience, Parameter-specific options can be specified in two ways.</p>
<p>Options can be collected into a single plain object and included into a
parameter constraint with the name <code>paramOptions</code>. This works well when you
need to specify multiple options on a single parameter.</p>
<p>The alternative to collecting the parameter-specific options into a single
plain object is to add them directly into the constraint, but with their
name prefixed with <code>vpopt_</code>.</p>
<h5>Coercions (Parameter-specific option <code>coerce</code>)</h5><p>A coercion is a function which attempts to transform an invalid value into
a valid one before validation is performed. Coercions alter the values stored
in the parameter list.</p>
<p>More detailed information and examples are provided as part of the
<a href="module-validateParams.html#.coerce">validateParams.coerce()</a> function.</p>
</div>





<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>version 1.1.1</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="external-validate.html">external:validate</a></li>
        
            <li><a href="module-validateParams.html#.coerce">module:validateParams.coerce</a></li>
        </ul>
    </dd>
    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Arguments</code></span>
|

<span class="param-type"><code>Array</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array-like object containing data to
be validated, often a function's special <code>arguments</code> object.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>constraints</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array.&lt;<a href="global.html#ParameterConstraints">ParameterConstraints</a>></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array of parameter
constraints, one for each parameter to be validated. The validations and
per-parameter options defined in the first element in this array will be
applied to the first element in <code>params</code>, the validations and options defined
in the second element in this array to the second element in <code>params</code>, and
so on.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an associative array of options, both for the
<a href="external-validate.html">validate()</a> function from validate.js, and this
function.</p>
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>format</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    'grouped'
                
                </td>
            

            <td class="description last">
                <p>the format in which to return
any error messages found. For details see the
<a href="https://validatejs.org/#validate-error-formatting">Format section of the validate.js docs</a>.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fullMessages</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last">
                <p>whether or not to pre-fix
error messages with the variable name (<code>param1</code> etc.).</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>coerce</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last">
                <p>whether or not to apply coercions
before validating.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fatal</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">
                <p>whether or not to throw a
<a href="module-validateParams.ValidationError.html">validateParams.ValidationError</a>
when there is a validation error rather than returning a results object.</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>A type error is thrown if the function is invoked with
invalid parameters.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>TypeError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>A validation error is thrown if the
values in the specified parameter list <code>params</code> do not pass the constraints
specified in the constraints list <code>constraints</code> and <code>options.fatal=true</code>.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>validateParams.ValidationError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="module-validateParams.Result.html">module:validateParams.Result</a></code></span>


    </dd>
</dl>


    
</div>



<div class="section-examples">
<h5>Examples</h5>

        <p class="code-caption">Basic Usage - A factorial function</p>
    
    <pre class="prettyprint"><code>function factorial(n){
    var validationResult = validateParams(arguments, [{
        presence: true,
        numericality: {
            onlyInteger: true,
            greaterThanOrEqualTo: 0
        }
    }]);
    if(validationResult.fail()){
        throw new TypeError(validationResult.asString());
    }
    if(n &lt;= 1){
        return 1;
    }
    return n * factorial(n - 1);
}</code></pre>

        <p class="code-caption">Coercion - A String Repeater</p>
    
    <pre class="prettyprint"><code>function repeatString(){
    validateParams(
        arguments,
        [
            { // first parameter
                presence: true,
                vpopt_coerce: function(val){ return String(val) }
            },
            { // second parameter
                numericality: {
                    onlyInteger: true,
                    greaterThan: 0
                }
                vpopt_coerce: function(val){
                    if(!validateParams.isNumeric(val)) return 1;
                    if(val &lt; 1) return 1;
                    return parseInt(val);
                }
            }
        ],
        {fatal: true} // global option to throw error if validation fails
    );
    var s = arguments[0];
    var n = arguments[1];
    var ans = '';
    while(n > 0){
       ans += s;
       n--;
    }
    return ans;
}</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".validateJS"><span class="type-signature">(static) </span>validateJS<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>An alias for
<a href="module-validateParams.html#.getValidateInstance">validateParams.getValidateInstance()</a>.</p>
</div>





<dl class="details">

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>version 1.1.1</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-validateParams.html#.getValidateInstance">module:validateParams.getValidateInstance</a></li>
        </ul>
    </dd>
    

    
</dl>























</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="~validateParams"><span class="type-signature">(inner) </span>validateParams<span class="signature">(params, constraints, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {undefined|Object|Array.&lt;string>}</span></h4>

    



<div class="description">
    <p>A wrapper around the
<a href="module-validateParams.html#.validate">validateParams.validate()</a> function
which returns values consistently with the
<a href="external-validate.html">validate()</a> function from validate.js.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-validateParams.html#.validate">module:validateParams.validate</a></li>
        
            <li><a href="external-validate.html">external:validate</a></li>
        </ul>
    </dd>
    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Arguments</code></span>
|

<span class="param-type"><code>Array</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array-like object containing data to
be validated, often a function's special <code>arguments</code> object.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>constraints</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Array.&lt;<a href="global.html#ParameterConstraints">ParameterConstraints</a>></code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an array of parameter
constraints, one for each parameter to be validated. The validations and
per-parameter options defined in the first element in this array will be
applied to the first element in <code>params</code>, the validations and options defined
in the second element in this array to the second element in <code>params</code>, and
so on.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <p>an associative array of options, both for the
<a href="external-validate.html">validate()</a> function from validate.js, and the
<a href="module-validateParams.html#.validate">validateParams.validate()</a> function.
(The supported options are detailed in the documenation for
<a href="module-validateParams.html#.validate">validateParams.validate()</a>)</p>
                
            </td>
        </tr>

    
    </tbody>
</table>












<div class="section-throws">
<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>throws an error on invalid arguments.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>Error</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>throws a validation error if the
parameters fail to validate and <code>options.fatal=true</code>.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><code>validateParams.ValidationError</code></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>
</div>



<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>undefined</code></span>
|

<span class="param-type"><code>Object</code></span>
|

<span class="param-type"><code>Array.&lt;string></code></span>


    </dd>
</dl>


<div class="param-desc">
    <p>Like the
<a href="external-validate.html">validate()</a> function from validate.js, this wrapper
returns <code>undefined</code> when all parameters pass the specified constraints, and
returns either an array of error strings, or an object mapping parameter
names (<code>param1</code>, <code>param2</code> etc. by default) to error strings or error details
depending on the value of <code>options.format</code>.</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>function repeatString(s, n){
    var errors = validateParams(arguments, [
        {
            presence: true
            
        },
        {
            presence: true,
            numericality: {
                onlyInteger: true,
                greaterThan: 0
            }
        }
    ]);
    if(errors){
        console.log(errors);
        throw new Error('invalid args!');
    }
    var ans = '';
    for(var i = 0; i &lt; n; i++){
        ans += String(s);
    }
    return ans;
}</code></pre>

</div>

</div>
        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Thu Jul 06 2017 17:51:37 GMT+0100 (IST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>